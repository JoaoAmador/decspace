<!DOCTYPE html>
<html>
  <head>
    <title>DecSpace - Projects</title>

    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>

    <!-- CSS Stylesheet -->
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/index.css' />
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/project-management.css' />

    <!-- jQuery -->
    <script type = 'text/javascript' src = '../../js/shared/jquery-3.1.0.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/jquery-ui-1.12.0/jquery-ui.js'></script>

    <!-- AngularJS -->
    <script src = '../../js/shared/angular.min.js'></script>

    <!-- AngularJS Modules -->
    <script src = '../../js/app.js'></script>

    <!-- AngularJS Controllers -->
    <script src = '../../js/controllers/project-management/ProjectManagementController.js'></script>

    <!-- Bootstrap -->
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap.min.css' />
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css' />
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.min.js'></script>

    <!-- Google Web Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600i" rel="stylesheet">
  </head>

  <body ng-app = 'decspace' ng-controller = 'ProjectManagementController'>

    <!-- Navigation Bar -->
    <nav class = 'navbar navbar-custom navbar-fixed-top'>
      <div class = 'container'>
        <!-- Title -->
        <div class = 'navbar-header'>
          <a class = 'navbar-brand' href = '../dashboard/dashboard.html'>DecSpace</a>
        </div>

        <!-- About, FAQ and Contact Us links. Sign Up and Log In buttons. -->
        <ul class = 'nav navbar-nav navbar-right'>
          <li>
            <p class = 'navbar-text' style = 'font-weight:600;font-style:italic'>Welcome, {{name}}!</p>
          </li>

          <li><a href = '../homepage/about.html'>About</a></li>

          <li><a href = '../homepage/faq.html'>FAQ</a></li>

          <li><a href = '../homepage/contactus.html'>Contact Us</a></li>

          <li>
            <button type = 'button' class = 'btn btn-default navbar-btn' ng-click = 'logOut()'>
              <span class = 'glyphicon glyphicon-log-out'></span>
              Log Out
            </button>
          </li>
        </ul>

      </div>
    </nav>

    <div id = 'main-content' class = 'container'>

      <ul class = 'breadcrumb'>
        <li><a href = '../dashboard/dashboard.html'>Dashboard</a></li>
        <li class = 'active'>Projects</li>
      </ul>

      <p class = 'header-1'>Projects</p>

      <br>

      <table class = 'table table-bordered table-hover' data-toggle = 'table'>
        <thead>
          <tr>
            <th class = 'text-center'>
              Name
              <a href = ''><span class = 'glyphicon glyphicon-triangle-bottom' style = 'float:right' ng-click = 'changeCurrentOrder("name", "descendant")'></span></a>
              <a href = ''><span class = 'glyphicon glyphicon-triangle-top' style = 'float:right' ng-click = 'changeCurrentOrder("name", "ascendant")'></span></a>
            </th>
            <th class = 'text-center'>
              Method
              <a href = ''><span class = 'glyphicon glyphicon-triangle-bottom' style = 'float:right' ng-click = 'changeCurrentOrder("method", "descendant")'></span></a>
              <a href = ''><span class = 'glyphicon glyphicon-triangle-top' style = 'float:right' ng-click = 'changeCurrentOrder("method", "ascendant")'></span></a>
            </th>
            <th class = 'text-center'>
              Creation Date
              <a href = ''><span class = 'glyphicon glyphicon-triangle-bottom' style = 'float:right' ng-click = 'changeCurrentOrder("creation_date", "descendant")'></span></a>
              <a href = ''><span class = 'glyphicon glyphicon-triangle-top' style = 'float:right' ng-click = 'changeCurrentOrder("creation_date", "ascendant")'></span></a>
            </th>
            <th class = 'text-center'>
              Last Update
              <a href = ''><span class = 'glyphicon glyphicon-triangle-bottom' style = 'float:right' ng-click = 'changeCurrentOrder("last_update", "descendant")'></span></a>
              <a href = ''><span class = 'glyphicon glyphicon-triangle-top' style = 'float:right' ng-click = 'changeCurrentOrder("last_update", "ascendant")'></span></a>
            </th>
            <th></th>
          </tr>
        </thead>
        <tbody ng-repeat = 'project in projects'>
          <!-- List View -->
          <tr id = 'proj-list-{{project.project_id}}'>
            <!-- Project Name -->
            <td>
              {{project.name}}
            </td>

            <!-- Project Method -->
            <td>
              {{project.method}}
            </td>

            <!-- Creation Date -->
            <td>
              {{project.creation_date}}
            </td>

            <!-- Last Update -->
            <td>
              {{project.last_update}}
            </td>

            <!-- Open, Edit, Duplicate and Delete Project -->
            <td>
              <button type = 'button' class = 'btn btn-primary btn-open' ng-click = 'openProject(project)' data-toggle = 'tooltip' title = 'Open Project'>
                <span class = 'glyphicon glyphicon-folder-open'></span>
              </button>

              <button type = 'button' class = 'btn btn-warning btn-edit' ng-click = 'editProject(project)' data-toggle = 'tooltip' title = 'Edit Project'>
                <span class = 'glyphicon glyphicon-edit'></span>
              </button>

              <button type = 'button' class = 'btn btn-info btn-duplicate' ng-click = 'duplicateProject(project)' data-toggle = 'tooltip' title = 'Duplicate Project'>
                <span class = 'glyphicon glyphicon-duplicate'></span>
              </button>

              <button type = 'button' class = 'btn btn-danger btn-delete' ng-click = 'deleteProject(project)' data-toggle = 'tooltip' title = 'Delete Project'>
                <span class = 'glyphicon glyphicon-minus'></span>
              </button>
            </td>
          </tr>

          <!-- Edit View -->
          <tr id = 'proj-edit-{{project.project_id}}' class = 'no-display warning'>
            <!-- Project Name -->
            <td>
              <input type = 'text' class = 'form-control' ng-model = 'project.name'>
            </td>

            <!-- Project Method -->
            <td>
              {{project.method}}
            </td>

            <!-- Creation Date -->
            <td>
              {{project.creation_date}}
            </td>

            <!-- Last Update -->
            <td>
              {{project.last_update}}
            </td>

            <!-- Confirm And Cancel Buttons -->
            <td>
              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmEdit(project)' data-toggle = 'tooltip' title = 'Confirm Edit'>
                <span class = 'glyphicon glyphicon-ok'></span>
              </button>
              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelEdit()' data-toggle = 'tooltip' title = 'Cancel Edit'>
                <span class = 'glyphicon glyphicon-remove'></span>
              </button>
            </td>
          </tr>

          <!-- Delete View -->
          <tr id = 'proj-delete-{{project.project_id}}' class = 'no-display danger'>
            <!-- Project Name -->
            <td>
              {{project.name}}
            </td>

            <!-- Project Method -->
            <td>
              {{project.method}}
            </td>

            <!-- Creation Date -->
            <td>
              {{project.creation_date}}
            </td>

            <!-- Last Update -->
            <td>
              {{project.last_update}}
            </td>

            <!-- Confirm And Cancel Buttons -->
            <td>
              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDelete(project)' data-toggle = 'tooltip' title = 'Confirm Delete'>
                <span class = 'glyphicon glyphicon-ok'></span>
              </button>
              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDelete()' data-toggle = 'tooltip' title = 'Cancel Delete'>
                <span class = 'glyphicon glyphicon-remove'></span>
              </button>
            </td>
          </tr>
        </tbody>

        <tbody>
          <tr>
            <!-- Name Input -->
            <td>
              <input id = 'input-name' type = 'text' class = 'form-control' placeholder = 'New Project' ng-model = 'project.name'>
            </td>

            <!-- Method List -->
            <td>
              <select id = 'input-method' ng-model = 'project.method'>
                <option value = '' selected disabled>--- Please Select ---</option>
                <option>OrderBy</option>
                <option>CAT-SD</option>
                <option>Sort</option>
              </select>
            </td>

            <td></td>

            <td></td>

            <!-- Add Button -->
            <td>
              <button type = 'button' class = 'btn btn-success btn-add' ng-click = 'addProject()' data-toggle = 'tooltip' title = 'Add Project'>
                <span class = 'glyphicon glyphicon-plus'></span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <div id = 'delete-projects-list' ng-if = 'showDeleteAll' ng-cloak>
        <div class = 'col-md-9'>
        </div>

        <div class = 'col-md-3'>
          <button id = 'delete-projects' type = 'button' class = 'btn btn-danger btn-delete-all' ng-click = 'deleteAllProjects()'>
            Delete All Projects
          </button>
        </div>
      </div>

      <div id = 'delete-projects-confirm' class = 'no-display'>
        <div class = 'col-md-9'>
        </div>

        <div class = 'col-md-3'>
          <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteAll()' data-toggle = 'tooltip' title = 'Confirm Delete'>
            <span class = 'glyphicon glyphicon-ok'></span>
          </button>
          <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteAll()' data-toggle = 'tooltip' title = 'Cancel Delete'>
            <span class = 'glyphicon glyphicon-remove'></span>
          </button>
        </div>
      </div>

      <br><br>

      <div class = 'alert alert-danger' role = 'alert' ng-if = 'showMethodErrorAlert' ng-cloak>
        A method has <strong>not</strong> been chosen.
      </div>

      <div class = 'alert alert-danger' role = 'alert' ng-if = 'showNameErrorAlert' ng-cloak>
        A name was <strong>not</strong> been defined.
      </div>

    </div>
  </body>
</html>
