<!DOCTYPE html>
<html>
  <head>
    <title>DecSpace - Project Area</title>

    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>

    <!-- CSS Stylesheet -->
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/index.css'/>
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/sort.css' />

    <!-- jQuery -->
    <script type = 'text/javascript' src = '../../js/shared/jquery-3.1.0.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/jquery-ui-1.12.0/jquery-ui.js'></script>

    <!-- AngularJS -->
    <script src = '../../js/shared/angular.min.js'></script>

    <!-- AngularJS Modules -->
    <script src = '../../js/app.js'></script>

    <!-- AngularJS Controllers -->
    <script src = '../../js/controllers/project-management/SortMethodController.js'></script>

    <!-- AngularJS Services -->
    <!-- <script src = '../../js/services/SortService.js'></script> -->

    <!-- Bootstrap -->
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap.min.css' />
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css' />
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.min.js'></script>

    <!-- Google Web Fonts -->
    <link href = 'https://fonts.googleapis.com/css?family=Open+Sans:400,600i' rel = 'stylesheet'>

    <!-- ng-draggable module -->
    <script src = '../../js/shared/ng-draggable/ngDraggable.js'></script>
  </head>

  <body ng-app = 'decspace' ng-controller = 'SortMethodController'>

    <!-- Navigation Bar -->
    <nav class = 'navbar navbar-custom navbar-fixed-top'>
      <div class = 'container'>
        <!-- Title -->
        <div class = 'navbar-header'>
          <a class = 'navbar-brand' href = '../dashboard/dashboard.html'>DecSpace</a>
        </div>

        <!-- About, FAQ and Contact Us links. Sign Up and Log In buttons. -->
        <ul class = 'nav navbar-nav navbar-right'>
          <li>
            <p class = 'navbar-text' style = 'font-weight:600;font-style:italic'>Welcome, {{name}}!</p>
          </li>

          <li><a href = '../homepage/about.html'>About</a></li>

          <li><a href = '../homepage/faq.html'>FAQ</a></li>

          <li><a href = '../homepage/contactus.html'>Contact Us</a></li>

          <li>
            <button type = 'button' class = 'btn btn-default navbar-btn' ng-click = 'logOut()'>
              <span class = 'glyphicon glyphicon-log-out'></span>
              Log Out
            </button>
          </li>
        </ul>

      </div>
    </nav>

    <div id = 'main-content' class = 'container'>
      <ul class = 'breadcrumb'>
        <li><a href = '../dashboard/dashboard.html'>Dashboard</a></li>
        <li><a href = 'project-management.html'>Projects</a></li>
        <li class = 'active'>Project - {{project_name}}</li>
      </ul>

      <!-- Main tabs - Method Description, Data Input and Results and Execution -->
      <ul class = 'nav nav-tabs nav-justified'>
        <li role = 'presentation' class = 'active'><a data-toggle = 'tab' href= '#description'>Method Description</a></li>
        <li role = 'presentation'><a data-toggle = 'tab' href= '#data-input'>Data Input</a></li>
        <li role = 'presentation'><a data-toggle = 'tab' href= '#results'>Results and Execution</a></li>
      </ul>

      <div class = 'tab-content'>
        <!-- Method Description -->
        <div id = 'description' class = 'tab-pane fade in active' style = 'text-align:left'>
          <br>

          <p class = 'header-1'>Sort</p>

          <br>

          <p>Given n objects, sort them by importance.</p>
        </div>

        <!-- Data Input -->
        <div id = 'data-input' class = 'tab-pane fade'>

          <br>

          <!-- Button Bar -->
          <div class = 'row'>
            <!-- Save Button -->
            <button type = 'button' class = 'btn btn-primary' ng-click = 'saveData()' data-toggle = 'tooltip' title = 'Save Data' style = 'float:left; margin-left: 1.5%'>
              <span class = 'glyphicon glyphicon-floppy-save icon-large'></span>
            </button>

            <!-- Import Button -->
            <button type = 'button' class = 'btn btn-info' ng-click = '' data-toggle = 'tooltip' title = 'Import Data' style = 'float:left; margin-left: 1%'>
              <span class = 'glyphicon glyphicon-import icon-large'></span>
            </button>

            <!-- Export Button -->
            <button type = 'button' class = 'btn btn-info' ng-click = '' data-toggle = 'tooltip' title = 'Export Data' style = 'float:left; margin-left: 1%'>
              <span class = 'glyphicon glyphicon-export icon-large'></span>
            </button>
          </div>

          <!-- Data Saved Alert -->
          <div class = 'alert alert-success alert-dismissible' role = 'alert' ng-if = 'showSaveSuccess' ng-cloak>
            <button type = 'button' class = 'close' data-dismiss = 'alert' aria-label = 'Close'>
              <span aria-hidden = 'true'>&times;</span>
            </button>
            Data <strong>successfully</strong> saved.
          </div>

          <br>

          <!-- Draggable Area -->
          <div class = 'row text-center'>
            <ul class = 'draglist'>
              <li ng-repeat = 'obj in draggableObjects' ng-drop = 'true' ng-drop-success = 'onDropComplete($index, $data, $event)'>
                <div ng-drag = 'true' ng-drag-data = 'obj' ng-class = 'obj.name'>
                  {{obj.name}}
                </div>
                <p ng-if = '$index == 0' style = 'margin-top:20%'>Most Important</p>
                <p ng-if = '$index == draggableObjects.length - 1' style = 'margin-top:20%'>Least Important</p>
              </li>
            </ul>
          </div>

        </div>

        <!-- Results and Execution -->
        <div id = 'results' class = 'tab-pane fade'>

          <br>

          <p class = 'header-2'>New Execution</p>

          <form class = 'form-inline'>
            <div class = 'form-group'>
              <input type = 'text' class = 'form-control' placeholder = 'Comment' ng-model = 'new_execution.comment'>
            </div>
            <button type = 'button' class = 'btn btn-default' ng-click = 'getResults()' ng-if = '!isLoading' title = 'Execute Method'>
              <span class = 'glyphicon glyphicon-play'></span>
            </button>
            <button class = 'btn btn-default active' ng-if = 'isLoading' title = 'Working...'>
              <span class = 'glyphicon glyphicon-refresh glyphicon-refresh-animate'></span>
            </button>
          </form>

          <br>

          <!-- Errors with input data -->

          <br>

          <p class = 'header-2'>Past Executions</p>

          <div class = 'row' ng-repeat = 'execution in executions'>

            <div class = 'list-group col-md-10'>
            </div>

            <!-- Delete button -->
            <div class = 'col-md-2' ng-if = 'execution.execution_id != deleteIdExecution'>
              <button type = 'button' class = 'btn btn-danger exec-btn btn-execution-delete' ng-click = 'deleteExecution(execution)' data-toggle = 'tooltip' title = 'Delete Execution' style = 'margin-top:5%;'>
                <span class = 'glyphicon glyphicon-minus'></span>
              </button>
            </div>

            <!-- Confirm and Cancel Delete Button -->
            <div class = 'col-md-2' ng-if = 'execution.execution_id == deleteIdExecution'>
              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteExecution(execution)' data-toggle = 'tooltip' title = 'Confirm Delete Execution' style = 'margin-top:5%'>
                <span class = 'glyphicon glyphicon-ok'></span>
              </button>
              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteExecution()' data-toggle = 'tooltip' title = 'Cancel Delete Execution' style = 'margin-top:5%'>
                <span class = 'glyphicon glyphicon-remove'></span>
              </button>
            </div>
          </div>

          <br>

          <!-- Delete All Executions button -->
          <div id = 'btn-delete-all-div' ng-if = 'deleteIdExecution != "all"'>
            <button id = 'btn-delete-all' type = 'button' class = 'btn btn-danger' ng-click = 'deleteAllExecutions()'>
              Delete All Executions
            </button>
          </div>

          <!-- Confirm and Cancel Delete All Executions buttons -->
          <div id = 'delete-all-btn-group' ng-if = 'deleteIdExecution == "all"'>
            <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteAllExecutions()' data-toggle = 'tooltip' title = 'Confirm Delete'>
              <span class = 'glyphicon glyphicon-ok'></span>
            </button>
            <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteAllExecutions()' data-toggle = 'tooltip' title = 'Cancel Delete'>
              <span class = 'glyphicon glyphicon-remove'></span>
            </button>
          </div>

        </div>
      </div>
    </div>
  </body>
</html>
