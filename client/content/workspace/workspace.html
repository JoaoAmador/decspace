<!DOCTYPE html>
<html>
  <head>
    <title>DecSpace: Workspace</title>

    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>

    <!-- CSS Stylesheet -->
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/index.css'/>
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/workspace.css'/>
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/sort.css'/>

    <!-- jQuery -->
    <script type = 'text/javascript' src = '../../js/shared/jquery-3.1.0.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/jquery-ui-1.12.0/jquery-ui.js'></script>

    <!-- AngularJS -->
    <script src = '../../js/shared/angular.min.js'></script>

    <!-- AngularJS Modules -->
    <script src = '../../js/app.js'></script>

    <!-- AngularJS Controllers -->
    <script src = '../../js/controllers/workspace/WorkspaceController.js'></script>

    <!-- AngularJS Services -->
    <script src = '../../js/services/OrderByService.js'></script>

    <!-- Bootstrap -->
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap.min.css'/>
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.js'></script>

    <!-- Google Web Fonts -->
    <link href = 'https://fonts.googleapis.com/css?family=Open+Sans:400,600i' rel = 'stylesheet'>

    <!-- Font Awesome -->
    <link rel = 'stylesheet' href = '../../js/shared/font-awesome-4.7.0/css/font-awesome.css'></link>

    <!-- ng-draggable module -->
    <script src = '../../js/shared/ng-draggable/ngDraggable.js'></script>

    <!-- InteractJS -->
    <script type = 'text/javascript' src = '../../js/shared/interact.js'></script>
  </head>

  <body ng-app = 'decspace' ng-controller = 'WorkspaceController'>

    <!-- Navigation Bar -->
    <nav class = 'navbar navbar-custom navbar-fixed-top'>
      <div class = 'container'>
        <!-- Title -->
        <div class = 'navbar-header'>
          <a class = 'navbar-brand' href = '../dashboard/dashboard.html'>DecSpace</a>
        </div>

        <!-- About, FAQ and Contact Us links. Sign Up and Log In buttons. -->
        <ul class = 'nav navbar-nav navbar-right'>
          <li><p class = 'navbar-text' style = 'font-weight: 600; font-style: italic'>Welcome, {{name}}!</p></li>

          <li><a href = '../homepage/about.html'>About</a></li>

          <li><a href = '../homepage/faq.html'>FAQ</a></li>

          <li><a href = '../homepage/contactus.html'>Contact Us</a></li>

          <li>
            <button type = 'button' class = 'btn btn-default navbar-btn' ng-click = 'logOut()'>
              <span class = 'glyphicon glyphicon-log-out'></span>
              Log Out
            </button>
          </li>
        </ul>

      </div>
    </nav>

    <div id = 'main-content' class = 'container'>

      <ul class = 'breadcrumb'>
        <li><a href = '../dashboard/dashboard.html'>Dashboard</a></li>
        <li><a href = 'projects.html'>Workspace - Projects</a></li>
        <li class = 'active'>Workspace - Project {{project_name}}</li>
      </ul>

      <p class = 'header-1'>Workspace - Project {{project_name}}</p>

      <br>

      <div class = 'row'>

        <!-- Modules List -->
        <div class = 'col-md-2'>
          <div class = 'panel panel-default'>
            <div class = 'panel-heading'>
              <!-- Title - Modules -->
              <h4 class = 'panel-title'>Modules</h4>
            </div>
            <!-- List of Modules -->
            <ul class = 'list-group'>
              <li class = 'list-group-item' ng-repeat = 'method in methods' ng-click = 'createModule(method)'>
                <a href = ''>{{method}}</a>
              </li>
            </ul>
          </div>
        </div>

        <div class = 'col-md-8'>
          <!-- Button Bar -->
          <div class = 'btn-toolbar' role = 'toolbar' style = 'margin-top: 1%'>
            <div class = 'btn-group' role = 'group'>
              <!-- Execute Button -->
              <button type = 'button' class = 'btn btn-default' ng-if = '!isLoading' ng-click = 'executeWorkflow()' title = 'Execute Workflow'>
                <span class = 'glyphicon glyphicon-play'></span>
              </button>
              <!-- Loading Button -->
              <button class = 'btn btn-default active' ng-if = 'isLoading' title = 'Working...' ng-cloak>
                <span class = 'glyphicon glyphicon-refresh glyphicon-refresh-animate'></span>
              </button>
            </div>

            <div class = 'btn-group' role = 'group'>
              <!-- Save Button -->
              <button type = 'button' class = 'btn btn-primary' ng-click = 'saveData()' title = 'Save Workflow'>
                <span class = 'glyphicon glyphicon-floppy-save icon-large'></span>
              </button>

              <!-- Reload Data Button -->
              <button type = 'button' class = 'btn btn-info' ng-click = 'reloadData()' title = 'Reload Workflow'>
                <span class = 'glyphicon glyphicon-refresh'></span>
              </button>
            </div>

            <div class = 'btn-group' role = 'group'>
              <!-- Import Button -->
              <button type = 'button' class = 'btn btn-warning' title = 'Import Data' data-toggle = 'modal' data-target = '#import-modal'>
                <span class = 'glyphicon glyphicon-import icon-large'></span>
              </button>
            </div>
          </div>

          <!-- Creating Line Status -->
          <div style = 'float: left; margin-top: 0.5%'>
            <span style = 'display: inline-block'>Creating Connection:</span>
            <div class = 'connection-circle' ng-class = '{"green-light" : drawing_line, "red-light" : !drawing_line}'></div>
          </div>

          <!-- Alerts -->
          <div class = 'alert alert-success custom-alert' id = 'save-success' ng-cloak>
            Workflow <strong>successfully</strong> saved.
          </div>

          <div class = 'alert alert-danger custom-alert' id = 'invalid-connection1' ng-cloak>
            <strong>Invalid connection</strong> - Input points should be connected to Output points.
          </div>

          <div class = 'alert alert-danger custom-alert' id = 'invalid-connection2' ng-cloak>
            <strong>Invalid connection</strong> - Only points of different modules should be connected.
          </div>

          <div class = 'alert alert-danger custom-alert' id = 'invalid-connection3' ng-cloak>
            <strong>Invalid connection</strong> - That connection already exists.
          </div>

          <div class = 'alert alert-danger custom-alert' id = 'invalid-connection4' ng-cloak>
            <strong>Invalid connection</strong> - Input points can only be connected once.
          </div>

          <div class = 'alert alert-success custom-alert' id = 'execution-success' ng-cloak>
            Workflow <strong>successfully</strong> executed.
          </div>

          <div class = 'alert alert-danger custom-alert' id = 'execution-error' ng-cloak>
            <strong>Execution error</strong> - One or more modules do not have input data or any connection.
          </div>

          <!-- Workspace -->
          <div id = 'workspace'>
            <!-- SVG Area -->
            <svg id = 'svg' width = '100%' height = '100%'>

              <!-- Import Modal -->
              <div class = 'modal fade' id = 'import-modal' role = 'dialog'>
                <div class = 'modal-dialog'>
                  <div class = 'modal-content'>
                    <div class = 'modal-header'>
                      <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                      <h4 class = 'modal-title'>Import Data</h4>
                    </div>
                    <div class = 'modal-body'>

                      <div class = 'row'>
                        <div class = 'col-md-4'></div>
                        <input id = 'input-files' type = 'file' multiple>
                      </div>

                      <br>

                      <div class = 'row'>
                        <div class = 'col-md-5'></div>
                        <button type = 'button' class = 'btn btn-primary col-md-2' ng-click = 'importData()' data-dismiss = 'modal'>
                          Import
                        </button>
                      </div>

                      <p><sub>CSV and JSON formats are accepted.</sub></p>

                    </div>
                  </div>
                </div>
              </div>

              <!-- Module Modals -->

              <!-- Input File Modal -->
              <div id = 'inputfile-modal' class = 'modal fade custom-modal' role = 'dialog'>
                <div class = 'modal-dialog'>
                  <div class = 'modal-content'>

                    <div class = 'modal-header'>
                      <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                      <h4 class = 'modal-title'>Input File - {{currentModule.name}}</h4>
                    </div>

                    <div class = 'modal-body'>

                      <p class = 'header-1'>Data</p>

                      <table class = 'table table-bordered table-hover'>
                        <thead>
                          <tr>
                            <th class = 'text-center' ng-repeat = '(key, value) in currentModule.output[0]' ng-if = 'key != "id"'>{{key}}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat = 'item in currentModule.output'>
                            <td ng-repeat = '(key, value) in item' ng-if = 'key != "id"'>{{value}}</td>
                          </tr>
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>

              <!-- OrderBy Modal -->
              <div id = 'orderby-modal' class = 'modal fade custom-modal'  role = 'dialog'>
                <div class = 'modal-dialog'>
                  <div class = 'modal-content'>

                    <div class = 'modal-header'>
                      <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                      <h4 class = 'modal-title'>Module - OrderBy{{currentModule.name_id}}</h4>
                    </div>

                    <div class = 'modal-body'>

                      <!-- Criteria -->
                      <p class = 'header-1'>Criteria</p>

                      <table class = 'table table-bordered table-hover'>
                        <thead>
                          <tr>
                            <th class = 'text-center'>Order By</th>
                            <th class = 'text-center'>Criterion Name</th>
                            <th class = 'text-center'>Type</th>
                            <th class = 'text-center'>Direction</th>
                            <th class = 'col-md-2'></th>
                          </tr>
                        </thead>
                        <!-- Added Criteria -->
                        <tbody>
                          <tr ng-repeat = 'criterion in currentModule.input.criteria' ng-class = '{danger: criterion.id == deleteIdOrderByCriterion}'>
                            <td>
                              <input type = 'radio' ng-checked = 'criterion.selected == "true"' ng-click = 'selectOrderByCriterion(criterion)'>
                            </td>
                            <td>
                              <input class = 'form-control' type = 'text' ng-model = 'criterion.name'>
                            </td>
                            <td>
                              <select class = 'form-control' ng-model = 'criterion.type'>
                                <option value = '' disabled>--- Please Select ---</option>
                                <option>Text</option>
                                <option>Number</option>
                              </select>
                            </td>
                            <td>
                              <select class = 'form-control' ng-model = 'criterion.direction'>
                                <option value = '' disabled>--- Please Select ---</option>
                                <option>Ascendant</option>
                                <option>Descendant</option>
                              </select>
                            </td>
                            <td ng-if = 'criterion.id != deleteIdOrderByCriterion'>
                              <button type = 'button' class = 'btn btn-danger' ng-click = 'deleteOrderByCriterion(criterion)' title = 'Delete Criterion'>
                                <span class = 'glyphicon glyphicon-minus'></span>
                              </button>
                            </td>
                            <td ng-if = 'criterion.id == deleteIdOrderByCriterion'>
                              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteOrderByCriterion(criterion)' title = 'Confirm Delete Criterion'>
                                <span class = 'glyphicon glyphicon-ok'></span>
                              </button>
                              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteOrderByCriterion()' title = 'Cancel Delete Criterion'>
                                <span class = 'glyphicon glyphicon-remove'></span>
                              </button>
                            </td>
                          </tr>
                          <!-- Form to add criteria -->
                          <tr class = 'active'>
                            <td></td>
                            <td>
                              <div id = 'orderby-criteria-name' class = 'form-group'>
                                <input class = 'form-control' type = 'text' ng-model = 'new_criterion.name'>
                              </div>
                            </td>
                            <td>
                              <div id = 'orderby-criteria-type' class = 'form-group'>
                                <select class = 'form-control' ng-model = 'new_criterion.type'>
                                  <option value = '' disabled>--- Please Select ---</option>
                                  <option>Text</option>
                                  <option>Number</option>
                                </select>
                              </div>
                            </td>
                            <td>
                              <div id = 'orderby-criteria-direction' class = 'form-group'>
                                <select class = 'form-control' ng-model = 'new_criterion.direction'>
                                  <option value = '' disabled>--- Please Select ---</option>
                                  <option>Ascendant</option>
                                  <option>Descendant</option>
                                </select>
                              </div>
                            </td>
                            <td>
                              <button type = 'button' class = 'btn btn-success' ng-click = 'addOrderByCriterion()' title = 'Add Criterion'>
                                <span class = 'glyphicon glyphicon-plus'></span>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                      <!-- Actions -->
                      <p class = 'header-1'>Actions</p>

                      <table class = 'table table-bordered table-hover'>
                        <thead>
                          <th class = 'text-center'>Action Name</th>
                          <th class = 'text-center' ng-repeat = 'criterion in currentModule.input.criteria'>{{criterion.name}}</th>
                          <th class = 'col-md-2'></th>
                        </thead>
                        <tbody>
                          <tr ng-repeat = 'action in currentModule.input.actions' ng-class = '{danger: action.id == deleteIdOrderByAction}'>
                            <td>
                              <input class = 'form-control' type = 'text' ng-model = 'action.name'>
                            </td>
                            <td ng-repeat = 'criterion in currentModule.input.criteria'>
                              <input class = 'form-control' ng-model = 'action[criterion.name]'>
                            </td>
                            <td ng-if = 'action.id != deleteIdOrderByAction'>
                              <button type = 'button' class = 'btn btn-danger btn-action-remove' ng-click = 'deleteOrderByAction(action)' title = 'Delete Action'>
                                <span class = 'glyphicon glyphicon-minus'></span>
                              </button>
                            </td>
                            <td ng-if = 'action.id == deleteIdOrderByAction'>
                              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteOrderByAction(action)' title = 'Confirm Delete Action'>
                                <span class = 'glyphicon glyphicon-ok'></span>
                              </button>
                              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteOrderByAction()' title = 'Cancel Delete Action'>
                                <span class = 'glyphicon glyphicon-remove'></span>
                              </button>
                            </td>
                          </tr>
                          <!-- Form to add action -->
                          <tr class = 'active'>
                            <td>
                              <div id = 'orderby-actions-name' class = 'form-group'>
                                <input class = 'form-control' type = 'text' ng-model = 'new_action.name'>
                              </div>
                            </td>
                            <td ng-repeat = 'criterion in currentModule.input.criteria'>
                              <div id = 'orderby-actions-{{criterion.id}}' class = 'form-group'>
                                <input class = 'form-control' ng-model = 'new_action[criterion.name]'>
                              </div>
                            </td>
                            <td>
                              <button type = 'button' class = 'btn btn-success btn-action-add' ng-click = 'addOrderByAction()' title = 'Add Action'>
                                <span class = 'glyphicon glyphicon-plus'></span>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                  </div>
                </div>
              </div>

              <!-- Sort Modal -->
              <div id = 'sort-modal' class = 'modal fade custom-modal' role = 'dialog'>
                <div class = 'modal-dialog'>
                  <div class = 'modal-content'>

                    <div class = 'modal-header'>
                      <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                      <h4 class = 'modal-title'>Module - Sort{{currentModule.name_id}}</h4>
                    </div>

                    <div class = 'modal-body'>

                      <!-- Objects -->
                      <p class = 'header-1'>Objects</p>

                      <table class = 'table table-bordered table-hover'>
                        <thead>
                          <tr>
                            <th class = 'text-center'>Object Name</th>
                            <th class = 'col-md-2'></th>
                          </tr>
                        </thead>
                        <!-- Added Objects -->
                        <tbody>
                          <tr ng-repeat = 'object in currentModule.input.objects | orderBy: "id"' ng-class = '{danger: object.id == deleteIdSortObject}'>
                            <td>
                              <input class = 'form-control' type = 'text' ng-model = 'object.name'>
                            </td>
                            <td ng-if = 'object.id != deleteIdSortObject'>
                              <button type = 'button' class = 'btn btn-danger' ng-click = 'deleteSortObject(object)' title = 'Delete Object'>
                                <span class = 'glyphicon glyphicon-minus'></span>
                              </button>
                            </td>
                            <td ng-if = 'object.id == deleteIdSortObject'>
                              <button type = 'button' class = 'btn btn-success' ng-click = 'confirmDeleteSortObject(object)' title = 'Confirm Delete Object'>
                                <span class = 'glyphicon glyphicon-ok'></span>
                              </button>
                              <button type = 'button' class = 'btn btn-danger' ng-click = 'cancelDeleteSortObject()' title = 'Cancel Delete Object'>
                                <span class = 'glyphicon glyphicon-remove'></span>
                              </button>
                            </td>
                          </tr>
                          <!-- Form to add object -->
                          <tr class = 'active'>
                            <td>
                              <div id = 'sort-objects-name' class = 'form-group'>
                                <input class = 'form-control' type = 'text' ng-model = 'new_object.name'>
                              </div>
                            </td>
                            <td>
                              <button type = 'button' class = 'btn btn-success btn-action-add' ng-click = 'addSortObject()' title = 'Add Object'>
                                <span class = 'glyphicon glyphicon-plus'></span>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                      <!-- Order -->
                      <p class = 'header-1'>Order</p>

                      <div class = 'row text-center'>
                        <ul class = 'draglist'>
                          <li ng-repeat = 'obj in currentModule.input.objects' ng-drop = 'true' ng-drop-success = 'onDropComplete($index, $data, $event)'>
                            <div ng-drag = 'true' ng-drag-data = 'obj' ng-class = 'obj.name'>{{obj.name}}</div>

                            <div ng-if = 'currentModule.input.objects.length > 1'>
                              <p ng-if = '$index == 0' style = 'margin-top: 20%'>Most Important</p>
                              <p ng-if = '$index == currentModule.input.objects.length - 1' style = 'margin-top: 20%'>Least Important</p>
                            </div>
                          </li>
                        </ul>
                      </div>

                      <br><br>

                    </div>
                  </div>
                </div>
              </div>

              <!-- Module Templates -->

              <!-- Input File Template -->
              <template id = 'inputfile-temp'>
                <div id = 'inputfile' class = 'module-template module-inputfile draggable' style = 'position:absolute; margin-top: 100%'>
                  <a id = 'filename' href class = 'module-circle-anchor' data-toggle = 'modal' data-target = '#inputfile-modal' ng-click = 'selectCurrentModule($event)' style = 'position: absolute; margin-top: -5%; margin-left: -20%'></a>

                  <a href ng-click = 'deleteModule($event)' style = 'display: block; margin-top: -23%; margin-left: 108%'>
                    <span class = 'glyphicon glyphicon-remove'></span>
                  </a>

                  <button id = 'inputfile-output' type = 'button' class = 'module-circle module-circle-output' ng-click = 'drawConnection($event)' style = 'margin-top: 12%; margin-left: 40%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 10%; margin-left: 18%'>Output</span>
                </div>
              </template>

              <!-- OrderBy Template -->
              <template id = 'orderby-temp'>
                <div id = 'orderby' class = 'module-template module-orderby draggable'>
                  <a id = 'mod-name' href class = 'module-circle-anchor' data-toggle = 'modal' data-target = '#orderby-modal' ng-click = 'selectCurrentModule($event)'></a>

                  <a href ng-click = 'deleteModule($event)' style = 'display: block; margin-top: -40%; margin-left: 108%'>
                    <span class = 'glyphicon glyphicon-remove'></span>
                  </a>

                  <button id = 'orderby-criteria' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: -3%; margin-left: -48%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: -4%; margin-left: -40%'>Criteria</span>

                  <button id = 'orderby-actions' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 20%; margin-left: -48%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 19%; margin-left: -40%'>Actions</span>

                  <button id = 'orderby-output' type = 'button' class = 'module-circle module-circle-output' ng-click = 'drawConnection($event)' style = 'margin-top: 30%; margin-left: 40%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 28%; margin-left: 18%'>Output</span>
                </div>
              </template>

              <!-- Sort Template -->
              <template id = 'sort-temp'>
                <div id = 'sort' class = 'module-template module-sort draggable'>
                  <a id = 'mod-name' href class = 'module-circle-anchor' data-toggle = 'modal' data-target = '#sort-modal' ng-click = 'selectCurrentModule($event)' style = 'display: block; margin-top: -10%'></a>

                  <a href ng-click = 'deleteModule($event)' style = 'display: block; margin-top: -31%; margin-left: 109%'>
                    <span class = 'glyphicon glyphicon-remove'></span>
                  </a>

                  <button id = 'sort-order' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 15.5%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 14%; margin-left: -39%'>Objects</span>

                  <button id = 'sort-output' type = 'button' class = 'module-circle module-circle-output' ng-click = 'drawConnection($event)' style = 'margin-top: 15.5%; margin-left: 40%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 14%; margin-left: 18%'>Output</span>
                </div>
              </template>

              <!-- CAT-SD Template -->
              <template id = 'cat-sd-temp'>
                <div id = 'cat-sd' class = 'module-template module-cat-sd draggable'>
                  <a id = 'mod-name' href class = 'module-circle-anchor' data-toggle = 'modal' data-target = '#cat-sd-modal' ng-click = 'selectCurrentModule($event)' style = 'display: block; margin-top: 5%'></a>

                  <a href ng-click = 'deleteModule($event)' style = 'display: block; margin-top: -45%; margin-left: 108%'>
                    <span class = 'glyphicon glyphicon-remove'></span>
                  </a>

                  <button id = 'cat-sd-criteria' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: -10%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: -11%; margin-left: -39%'>Criteria</span>

                  <button id = 'cat-sd-interaction-effects' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: -2%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: -3%; margin-left: -39%'>Interaction Effects</span>

                  <button id = 'cat-sd-scales' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 7%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 6%; margin-left: -39%'>Scales</span>

                  <button id = 'cat-sd-functions' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 15%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 14%; margin-left: -39%'>Functions</span>

                  <button id = 'cat-sd-actions' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 23%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 22%; margin-left: -39%'>Actions</span>

                  <button id = 'cat-sd-categories' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 31%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 30%; margin-left: -39%'>Categories</span>

                  <button id = 'cat-sd-reference-actions' type = 'button' class = 'module-circle module-circle-input' ng-click = 'drawConnection($event)' style = 'margin-top: 39%; margin-left: -47%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 38%; margin-left: -39%'>Reference Actions</span>

                  <button id = 'cat-sd-output' type = 'button' class = 'module-circle module-circle-output' ng-click = 'drawConnection($event)' style = 'margin-top: 39%; margin-left: 41%'></button>
                  <span class = 'module-circle-span' style = 'margin-top: 38%; margin-left: 19%'>Output</span>
                </div>
              </template>

            </svg>
          </div>
        </div>

        <!-- Executions and Results List -->
        <div class = 'col-md-2'>
          <div class = 'panel panel-default'>
            <div class = 'panel-heading'>
              <!-- Title - Executions -->
              <h4 class = 'panel-title'>Executions</h4>
            </div>

            <!-- Up button -->
            <button type = 'button' class = 'btn btn-default btn-block' ng-click = 'decrementExecutionPage()' ng-class = '{"disabled": !showDecrementPage()}' title = 'Previous Executions'>
              <span class = 'glyphicon glyphicon-menu-up' ng-class = '{"blue_arrow" : showDecrementPage(), "black_arrow" : !showDecrementPage()}'></span>
            </button>

            <!-- List of executions -->
            <ul class = 'list-group'>
              <li class = 'list-group-item' ng-repeat = 'execution in executions' ng-click = 'selectExecution(execution)' ng-if = 'checkPage($index)'>
                <!-- delete button -->
                <a href ng-click = 'deleteExecution(execution)' style = 'position: absolute; margin-left: 60%; color: red'>
                  <span class = 'glyphicon glyphicon-remove'></span>
                </a>
                <!-- modal open -->
                <a href data-toggle = 'modal' data-target = '#exec-modal'>{{execution.date}}<br>{{execution.time}}</a>
              </li>
            </ul>

            <!-- Down button -->
            <button type = 'button' class = 'btn btn-default btn-block' ng-click = 'incrementExecutionPage()' ng-class = '{"disabled": !showIncrementPage()}' title = 'Next Executions'>
              <span class = 'glyphicon glyphicon-menu-down' ng-class = '{"blue_arrow" : showIncrementPage(), "black_arrow" : !showIncrementPage()}'></span>
            </button>
          </div>

          <button type = 'button' class = 'btn btn-danger' ng-click = 'deleteAllExecutions()' ng-class = '{"disabled" : executions.length == 0}' title = 'Delete All Executions'>
            Delete All Executions
          </button>

          <!-- Executions Modals -->

          <!-- Execution Modal -->
          <div class = 'modal fade custom-modal' id = 'exec-modal' role = 'dialog'>
            <div class = 'modal-dialog'>
              <div class = 'modal-content'>
                <div class = 'modal-header'>
                  <!-- Dropdown Button -->
                  <div class = 'dropdown row' style = 'float: left; margin-left: 1%'>
                    <button class = 'btn btn-primary dropdown-toggle' type = 'button' data-toggle = 'dropdown' aria-haspopup = 'true' aria-expanded = 'true' title = 'Compare Executions'>
                      <span class = 'glyphicon glyphicon-transfer'></span>
                    </button>

                    <ul class = 'dropdown-menu' aria-labelledby = 'dropdownbtn'>
                      <li ng-repeat = 'execution in executions' ng-if = 'execution != current_exec'>
                        <a href ng-click = 'selectCompareExecution(execution)'>Execution {{execution.exec_id}}</a>
                      </li>
                      <li role = 'separator' class = 'divider'></li>
                      <li><a href ng-click = 'selectCompareExecution("")'>None</a></li>
                    </ul>
                  </div>

                  <!-- Close Button -->
                  <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>

                  <!-- Execution Title -->
                  <p class = 'header-1' ng-if = 'compare_exec == ""'>Execution {{current_exec.exec_id}}</p>
                  <p class = 'header-1' ng-if = 'compare_exec != ""'>Execution {{current_exec.exec_id}} - Execution {{compare_exec.exec_id}}</p>
                </div>

                <div class = 'modal-body'>
                  <div class = 'container'>
                    <div ng-repeat = 'exec in checkCompareExecution()'>
                      <div ng-class = '{"col-md-6": compare_exec != ""}'>
                        <!-- Show input and output data of all modules -->
                        <div ng-repeat = 'mod in exec.modules'>

                          <!-- Input Files -->
                          <div ng-if = 'mod.type == "InputFile"'>
                            <!-- Module Name -->
                            <p class = 'header-7'>{{mod.name}}</p>
                            <!-- Output -->
                            <p class = 'header-8'>Output</p>

                            <table class = 'table table-bordered table-hover'>
                              <thead>
                                <tr>
                                  <th class = 'text-center' ng-repeat = '(key, value) in mod.output[0]' ng-if = 'key != "id"'>{{key}}</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat = 'item in mod.output'>
                                  <td ng-repeat = '(key, value) in item' ng-if = 'key != "id"'>{{value}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <!-- Horizontal Divider -->
                            <br><hr class = 'custom-hr'><br>
                          </div>

                          <!-- OrderBy Module -->
                          <div ng-if = 'mod.type == "OrderBy"'>
                            <!-- Module Name -->
                            <p class = 'header-7'>OrderBy{{mod.name_id}}</p>
                            <!-- Criteria -->
                            <p class = 'header-8'>Criteria</p>

                            <table class = 'table table-bordered table-hover'>
                              <thead>
                                <tr>
                                  <th class = 'text-center'>Order By</th>
                                  <th class = 'text-center'>Criterion Name</th>
                                  <th class = 'text-center'>Type</th>
                                  <th class = 'text-center'>Direction</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat = 'criterion in mod.input.criteria'>
                                  <td>
                                    <span class = 'glyphicon glyphicon-ok' ng-if = 'criterion.selected == "true"' style = 'color: green'></span>
                                    <span class = 'glyphicon glyphicon-remove' ng-if = 'criterion.selected == "false"' style = 'color: red'></span>
                                  </td>
                                  <td>{{criterion.name}}</td>
                                  <td>{{criterion.type}}</td>
                                  <td>{{criterion.direction}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <!-- Actions -->
                            <p class = 'header-8'>Actions</p>

                            <table class = 'table table-bordered table-hover'>
                              <thead>
                                <th class = 'text-center'>Action Name</th>
                                <th class = 'text-center' ng-repeat = 'criterion in mod.input.criteria'>{{criterion.name}}</th>
                              </thead>
                              <tbody>
                                <tr ng-repeat = 'action in mod.input.actions'>
                                  <td>{{action.name}}</td>
                                  <td ng-repeat = 'criterion in mod.input.criteria'>{{action[criterion.name]}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <!-- Output -->
                            <p class = 'header-8'>Output</p>

                            <table class = 'table table-bordered table-hover'>
                              <thead>
                                <th class = 'text-center'>Action Name</th>
                                <th class = 'text-center' ng-repeat = 'criterion in mod.input.criteria'>{{criterion.name}}</th>
                              </thead>
                              <tbody>
                                <tr ng-repeat = 'action in mod.output'>
                                  <td>{{action.name}}</td>
                                  <td ng-repeat = 'criterion in mod.input.criteria'>{{action[criterion.name]}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <!-- Horizontal Divider -->
                            <br><hr class = 'custom-hr'><br>
                          </div>

                          <!-- Sort Module -->
                          <div ng-if = 'mod.type == "Sort"'>
                            <!-- Module Name -->
                            <p class = 'header-7'>Sort{{mod.name_id}}</p>

                            <!-- Objects -->
                            <p class = 'header-8'>Objects</p>

                            <table class = 'table table-bordered table-hover'>
                              <thead>
                                <tr>
                                  <th class = 'text-center'>Object Name</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat = 'object in mod.input.objects | orderBy : "id"'>
                                  <td>{{object.name}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <!-- Order -->
                            <p class = 'header-8'>Order</p>

                            <div class = 'row text-center'>
                              <ul class = 'draglist'>
                                <li ng-drop = 'true' ng-repeat = 'obj in mod.input.objects'>
                                  <div ng-drag = 'true' ng-class = 'obj.name'>{{obj.name}}</div>

                                  <div ng-if = 'mod.input.objects.length > 1'>
                                    <p ng-if = '$index == 0' style = 'margin-top: 20%'>Most Important</p>
                                    <p ng-if = '$index == mod.input.objects.length - 1' style = 'margin-top: 20%'>Least Important</p>
                                  </div>
                                </li>
                              </ul>
                            </div>

                            <br><br>

                            <!-- Output -->
                            <p class = 'header-8'>Output</p>

                            <div class = 'row text-center'>
                              <ul class = 'draglist'>
                                <li ng-drop = 'true' ng-repeat = 'obj in mod.input.objects'>
                                  <div ng-drag = 'true' ng-class = 'obj.name'>{{obj.name}}</div>

                                  <div ng-if = 'mod.input.objects.length > 1'>
                                    <p ng-if = '$index == 0' style = 'margin-top: 20%'>Most Important</p>
                                    <p ng-if = '$index == mod.input.objects.length - 1' style = 'margin-top: 20%'>Least Important</p>
                                  </div>
                                </li>
                              </ul>
                            </div>

                            <br>

                            <!-- Horizontal Divider -->
                            <br><hr class = 'custom-hr'><br>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete Execution Modal -->
          <div class = 'modal fade' id = 'delete-execution-modal' role = 'dialog'>
            <div class = 'modal-dialog'>
              <div class = 'modal-content'>
                <div class = 'modal-header'>
                  <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                  <h4 class = 'modal-title'>Are you sure you want to delete the execution created on {{exec_delete.date}} {{exec_delete.time}}?</h4>
                </div>
                <div class = 'modal-body'>
                  <div class = 'row'>
                    <div class = 'col-md-2'>
                    </div>

                    <div class = 'col-md-4'>
                      <button type = 'button' class = 'btn btn-primary' ng-click = 'confirmDeleteExecution()' data-dismiss = 'modal' title = 'Confirm Execution Deletion'>
                        Yes
                      </button>
                    </div>

                    <div class = 'col-md-4'>
                      <button type = 'button' class = 'btn btn-primary' data-dismiss = 'modal' title = 'Cancel Execution Deletion'>
                        No
                      </button>
                    </div>

                    <div class = 'col-md-2'>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete All Executions Modal -->
          <div class = 'modal fade' id = 'delete-all-executions-modal' role = 'dialog'>
            <div class = 'modal-dialog'>
              <div class = 'modal-content'>
                <div class = 'modal-header'>
                  <button type = 'button' class = 'close' data-dismiss = 'modal'>&times;</button>
                  <h4 class = 'modal-title'>Are you sure you want to delete all executions?</h4>
                </div>
                <div class = 'modal-body'>
                  <div class = 'row'>
                    <div class = 'col-md-2'>
                    </div>

                    <div class = 'col-md-4'>
                      <button type = 'button' class = 'btn btn-primary' ng-click = 'confirmDeleteAllExecutions()' data-dismiss = 'modal' title = 'Confirm Deletion Of All Executions'>
                        Yes
                      </button>
                    </div>

                    <div class = 'col-md-4'>
                      <button type = 'button' class = 'btn btn-primary' data-dismiss = 'modal' title = 'Cancel Deletion Of All Executions'>
                        No
                      </button>
                    </div>

                    <div class = 'col-md-2'>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </body>
</html>
